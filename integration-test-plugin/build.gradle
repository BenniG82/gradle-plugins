buildscript {
  dependencies {
    classpath "com.github.townsfolk:gradle-release:1.2"
  }
}

plugins {
  id "nu.studer.plugindev" version "1.0.3"
}

apply plugin: "release"

plugindev {
  pluginId "com.ewerk.gradle.plugins.integration-test"
  pluginImplementationClass "com.ewerk.gradle.plugins.IntegrationTestPlugin"
  pluginDescription "Plugin for running integration tests."
  pluginLicenses "Apache-2.0"
  pluginTags "integration-test"
  authorId "ewerk"
  authorName "Holger Stolzenberg"
  authorEmail "h.stolzenberg@ewerk.com"
  projectUrl "https://github.com/ewerk/gradle-plugins"
  projectIssuesUrl "https://github.com/bintray/gradle-bintray-plugin/issues"
  projectVcsUrl "https://github.com/ewerk/gradle-plugins"
  projectInceptionYear "2014"
  done() // do not omit
}

bintray {
  user = "$BINTRAY_USER"
  key = "$BINTRAY_API_KEY"
  pkg.repo = "gradle-plugins"
  pkg.userOrg = "ewerk"
}

release {
  requireBranch = "release"
}

createReleaseTag.dependsOn("check")